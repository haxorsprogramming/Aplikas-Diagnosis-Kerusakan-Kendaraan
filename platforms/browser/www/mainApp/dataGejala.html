<div class="container">

    <div class='row'>
        <div style='margin-bottom: 15px;'>
            <a href='#!' class="btn btn-warning" id="btnTambahGejala"><i class='fas fa-plus-circle'></i> Tambah Gejala</a>
        </div>
        <table class="table" id='myTable'>
            <thead>
                <tr>
                    <td>Kd</td>
                    <td>Detail</td>
                    <td>Aksi</td>
                </tr>
            </thead>
        </table>
        </div>
</div>


<script>
$(document).ready(function(){
    
    $('#myTable').DataTable({
            "lengthChange": false,
            "searching": false
        });

    $.post('http://api.haxors.or.id/riyan/get_data_gejala.php',function(data){
        let obj = JSON.parse(data);
        obj.forEach(renderTabel);
        function renderTabel(item, index){
        var table = document.getElementById("myTable");
        var row = table.insertRow(1);

        // Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);

        // Add some text to the new cells:
        cell1.innerHTML = obj[index].kd_gejala;
        cell2.innerHTML = obj[index].gejala_kerusakan; 
        cell3.innerHTML = "<a href='#!' class='btn btn-sm btn-primary btnDetail' id='"+obj[index].kd_gejala+"'><i class='fas fa-info-circle'></i> Detail</a>";
        }      
    });

   $('#btnTambahGejala').click(function(){
    $('#divUtama').html("Memuat ... ");
    $('#capUtama').html("Tambah Gejala")
    $('#divUtama').load('formTambahGejala.html');
   });

   $('#myTable').on('click','.btnDetail', function(){
    let kdGejala = $(this).attr('id');
    window.alert(kdGejala);
    
   });

});
</script>